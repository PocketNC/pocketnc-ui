<div id="mainConfig" class="well well-with-label fill-height">

    <div id="scrollRegion">

        <span class="well-label"><span>{{nls.ConfigTitle}}</span></span>

        <ul class="nav nav-tabs" id="myTab">
            <li><a id="NetworkTab" href="#NetworkSettings" data-toggle="tab">{{nls.NetworkSettingsTabTitle}}</a></li>
            <li><a id="DisplayTab" href="#DisplaySettings" data-toggle="tab">{{nls.DisplaySettingsTabTitle}}</a></li>
          <!--  <li><a id="BackplotTab" href="#BackplotSettings" data-toggle="tab">{{nls.BackplotSettingsTabTitle}}</a></li>-->
          <!--  <li><a id="OffsetsTab" href="#OffsetSettings" data-toggle="tab">{{nls.OffsetsSettingsTabTitle}}</a></li>-->
            <li><a id="JogTab" href="#JogSettings" data-toggle="tab">{{nls.JogSettingsTabTitle}}</a></li>
            <li><a id="ServerTab" href="#ServerSettings" data-toggle="tab">{{nls.ServerSettingsTabTitle}}</a></li>
            <li><a id="StatusTab" href="#StatusSettings" data-toggle="tab">{{nls.StatusTabTitle}}</a></li>
            <li><a id="VersionTab" href="#VersionSettings" data-toggle="tab">{{nls.VersionSettingsTabTitle}}</a></li>
        </ul>

        <div class="tab-content">

            <!--************* NETWORK SETTINGS **************-->
            <div class="tab-pane" id="NetworkSettings">

                <legend>{{nls.NetworkTabLegend}}</legend>

                <form class="form-horizontal">
                    <div class="control-group">
                        <label class="control-label" for="inputHostIP">{{nls.HostIP}}</label>
                        <div class="controls">
                            <input spellcheck='false' data-bind="value: linuxCNCServer.server_address" type="text" id="inputHostIP" placeholder="192.168.1.1">
                        </div>
                    </div>
                    <div class="control-group">
                        <label class="control-label" for="inputHostPort">{{nls.HostPort}}</label>
                        <div class="controls">
                            <input spellcheck='false' data-bind="value: linuxCNCServer.server_port" type="text" id="inputHostPort" placeholder="8000">
                        </div>
                    </div>
                    <div class="control-group">
                        <label class="control-label" for="inputUsername">{{nls.Username}}</label>
                        <div class="controls">
                            <input spellcheck='false' data-bind="value: linuxCNCServer.server_username" type="text" id="inputUsername" placeholder="default">
                        </div>
                    </div>
                    <div class="control-group">
                        <label class="control-label" for="inputPassword">{{nls.Password}}</label>
                        <div class="controls">
                            <input spellcheck='false' data-bind="value: linuxCNCServer.server_password" type="password" id="inputPassword" placeholder="Password">
                        </div>
                    </div>

                    <div class="control-group">
                        <div class="controls">
                            <button class="btn" data-bind="click: settings.loadNetworkSettings">{{nls.Refresh}}</button>
                            <button class="btn" data-bind="click: settings.saveNetworkSettings">{{nls.Save}}</button>
                        </div>
                    </div>

                </form>

            </div>


            <!--************************ DISPLAY SETTINGS ************************-->
            <div class="tab-pane" id="DisplaySettings">

                <legend>{{nls.DisplayTabLegend}}</legend>

                <form class="form-horizontal">

                    <div class="control-group">
                        <label class="control-label" for="inputDisplayUnits">{{nls.DisplayUnits}}</label>
                        <div class="controls">
                            <select data-bind="value: getDisplayUnitValue" class="" id="inputDisplayUnits" multiple="false">
                                <option value="INCH">{{nls.Inches}}</option>
                                <option value="MM">{{nls.Millimeters}}</option>
                                <option value="CM">{{nls.Centimeters}}</option>
                                <option value="PROGRAM">{{nls.ProgramUnits}}</option>
                            </select>

                        </div>
                    </div>

                </form>

                <form class="form-horizontal">

                    <div class="control-group">
                        <label class="control-label" for="inputPressureUnits">{{nls.PressureUnits}}</label>
                        <div class="controls">
                            <select data-bind="value: getPressureUnitValue" class="" id="inputPressureUnits" multiple="false">
                                <option value="PSIA">{{nls.PSI}}</option>
                                <option value="MPaA">{{nls.MPa}}</option>
                            </select>

                        </div>
                    </div>

                </form>

                <form class="form-horizontal">

                    <div class="control-group">
                        <label class="control-label" for="inputTemperatureUnits">{{nls.TemperatureUnits}}</label>
                        <div class="controls">
                            <select data-bind="value: getTemperatureUnitValue" class="" id="inputTemperatureUnits" multiple="false">
                                <option value="F">{{nls.Fahrenheit}}</option>
                                <option value="C">{{nls.Celsius}}</option>
                            </select>

                        </div>
                    </div>
                
                    <div class="control-group">
                        <div class="controls">
                            <button class="btn" data-bind="click: refreshDisplaySettings">{{nls.Refresh}}</button>
                            <button class="btn" data-bind="click: saveDisplaySettings">{{nls.Save}}</button>
                        </div>
                    </div>

                </form>

            </div>


            <!--************************ BACKPLOT SETTINGS ************************-->
            <div class="tab-pane" id="BackplotSettings">

                <legend>{{nls.BackplotTabLegend}}</legend>

                <form class="form-horizontal">
                    <div class="control-group">
                        <label class="control-label" for="config_bpgrid_toggle_cb">{{nls.BackplotGridVisible}}</label>
                        <div class="controls">
                            <span id="config_bpgrid_toggle" class="switch" data-on="success" data-off="primary" data-bind="event: { 'switch-change': setBackplotGrid }">
                            <input spellcheck='false' id="config_bpgrid_toggle_cb" type="checkbox"> </span>
                        </div>
                    </div>

                    <div class="control-group">
                        <label class="control-label" for="inputBackplotBackgroundColor">{{nls.BackplotBackgroundColorLabel}}</label>
                        <div class="controls">
                            <input spellcheck='false' id="inputBackplotBackgroundColor" class="" data-bind="value: getBPColorText(settings.persist.BPBGColor)" type="text">
                        </div>
                    </div>

                    <div class="control-group">
                        <label class="control-label" for="inputBackplotFeedColor">{{nls.BackplotFeedColorLabel}}</label>
                        <div class="controls">
                            <input spellcheck='false' id="inputBackplotFeedColor" class="" data-bind="value: getBPColorText(settings.persist.BPFeedColor)" type="text">
                        </div>
                    </div>

                    <div class="control-group">
                        <label class="control-label" for="inputBackplotTraverseColor">{{nls.BackplotTraverseColorLabel}}</label>
                        <div class="controls">
                            <input spellcheck='false' id="inputBackplotTraverseColor" class="" data-bind="value: getBPColorText(settings.persist.BPTraverseColor)" type="text">
                        </div>
                    </div>

                    <div class="control-group">
                        <label class="control-label" for="inputBackplotFeedExecutedColor">{{nls.BackplotFeedExecutedColorLabel}}</label>
                        <div class="controls">
                            <input spellcheck='false' id="inputBackplotFeedExecutedColor" class="" data-bind="value: getBPColorText(settings.persist.BPFeedExecutedColor)" type="text">
                        </div>
                    </div>


                    <div class="control-group">
                        <label class="control-label" for="inputBackplotTraverseExecutedColor">{{nls.BackplotTraverseExecutedColorLabel}}</label>
                        <div class="controls">
                            <input spellcheck='false' id="inputBackplotTraverseExecutedColor" class="" data-bind="value: getBPColorText(settings.persist.BPTraverseExecutedColor)" type="text">
                        </div>
                    </div>

                    <div class="control-group">
                        <label class="control-label" for="inputBackplotGridColor">{{nls.BackplotGridColorLabel}}</label>
                        <div class="controls">
                            <input spellcheck='false' id="inputBackplotGridColor" class="" data-bind="value: getBPColorText(settings.persist.BPGridColor)" type="text">
                        </div>
                    </div>

                    <div class="control-group">
                        <label class="control-label" for="inputBackplotGridMajorColor">{{nls.BackplotGridMajorColorLabel}}</label>
                        <div class="controls">
                            <input spellcheck='false' id="inputBackplotGridMajorColor" class="" data-bind="value: getBPColorText(settings.persist.BPGridMajorColor)" type="text">
                        </div>
                    </div>


                    <div class="control-group">
                        <div class="controls">
                            <button class="btn" data-bind="click: refreshBackplotSettings">{{nls.Refresh}}</button>
                            <button class="btn" data-bind="click: saveBackplotSettings">{{nls.Save}}</button>
                        </div>
                    </div>
                </form>
            </div>



            <!--************************ OFFSET SETTINGS ************************-->
            <div class="tab-pane" id="OffsetSettings">

                <legend>{{nls.OffsetsTabLegend}}</legend>

                <form class="form-horizontal">

                    <div class="control-group">
                        <label class="control-label" for="inputProbeRadius">{{nls.ProbeRadiusLabel}}</label>
                        <div class="controls">
                            <input spellcheck='false' id="inputProbeRadius" type="text" data-bind="value: settings.persist.ProbeRadius.Scratch" >
                        </div>
                    </div>

                    <div class="control-group">
                        <label class="control-label" for="inputGaugeHeight">{{nls.GaugeHeightLabel}}</label>
                        <div class="controls">
                            <input spellcheck='false' id="inputGaugeHeight" type="text" data-bind="value: settings.persist.GaugeHeight.Scratch" >
                        </div>
                    </div>


                    <div class="control-group">
                        <div class="controls">
                            <button class="btn" data-bind="click: refreshOffsetSettings">{{nls.Refresh}}</button>
                            <button class="btn" data-bind="click: saveOffsetSettings">{{nls.Save}}</button>
                        </div>
                    </div>

                </form>

            </div>



            <!--************************ JOG SETTINGS ************************-->
            <div class="tab-pane" id="JogSettings">
              <div class="row-fluid">
                <div class="left-col form-horizontal">
                  <legend>{{nls.JogTabLegend}}</legend>
                  <form>

                      <div class="control-group">
                          <label class="control-label" for="inputJogSlow">{{nls.JogSlowLabel}}</label>
                          <div class="controls">
                              <input spellcheck='false' id="inputJogSlow" type="text" data-bind="value: settings.persist.JogFeedSlow.Scratch" >
                          </div>
                      </div>

                      <div class="control-group">
                          <label class="control-label" for="inputJogFast">{{nls.JogFastLabel}}</label>
                          <div class="controls">
                              <input spellcheck='false' id="inputJogFast" type="text" data-bind="value: settings.persist.JogFeedFast.Scratch" >
                          </div>
                      </div>

                      <div class="control-group">
                          <label class="control-label" for="inputJogStep1">{{nls.JogStep1Label}}</label>
                          <div class="controls">
                              <input spellcheck='false' id="inputJogStep1" type="text" data-bind="value: settings.persist.JogStep1.Scratch" >
                          </div>
                      </div>

                      <div class="control-group">
                          <label class="control-label" for="inputJogStep2">{{nls.JogStep2Label}}</label>
                          <div class="controls">
                              <input spellcheck='false' id="inputJogStep2" type="text" data-bind="value: settings.persist.JogStep2.Scratch" >
                          </div>
                      </div>

                      <div class="control-group">
                          <label class="control-label" for="inputJogStep3">{{nls.JogStep3Label}}</label>
                          <div class="controls">
                              <input spellcheck='false' id="inputJogStep3" type="text" data-bind="value: settings.persist.JogStep3.Scratch" >
                          </div>
                      </div>

                      <div class="control-group">
                        <label class="control-label" for="inputJogStep4">{{nls.JogStep4Label}}</label>
                        <div class="controls">
                            <input spellcheck='false' id="inputJogStep4" type="text" data-bind="value: settings.persist.JogStep4.Scratch" >
                        </div>
                      </div>

                      <div class="control-group">
                          <div class="controls">
                              <button class="btn" data-bind="click: refreshJogSettings">{{nls.Refresh}}</button>
                              <button class="btn" data-bind="click: saveJogSettings">{{nls.Save}}</button>
                          </div>
                      </div>

                  </form>
                </div>

                <div class="fixed-fluid">
                  <legend>{{nls.JogTabControlsSectionTitle}}</legend>
                  <div>
                  <div class="row-fluid">
                    <div class="left-col">
                      <table>
                        <tr class="border-bottom" >
                          <th style="width: 35px">Axis</th>
                          <th style="width: 32px"><i class="icon-minus" style="opacity: 1.0;"></i></th>
                          <th style="width: 32px"><i class="icon-plus" style="opacity: 1.0;"></i></th>
                        </tr>
                      </table>
                      <table style="border-collapse: separate; border-spacing: 5px">
                        <tr>
                          <td style="width: 25px;">X:</td>
                          <td class="hotkey"><i class="icon-arrow-left"></i></td>
                          <td class="hotkey"><i class="icon-arrow-right"></i></td>
                        </tr>
                        <tr>
                          <td style="width: 25px;">Y:</td>
                          <td class="hotkey"><i class="icon-arrow-down"></i></td>
                          <td class="hotkey"><i class="icon-arrow-up"></i></td>
                        </tr>
                        <tr>
                          <td style="width: 25px;">Z:</td>
                          <td class="hotkey">Z</td>
                          <td class="hotkey ">X</td>
                        </tr>
                        <tr data-bind="visible: linuxCNCServer.AxesNumbers().includes(3)">
                          <td style="width: 25px;">A:</td>
                          <td class="hotkey ">A</td>
                          <td class="hotkey ">S</td>
                        </tr>
                        <tr>
                          <td style="width: 25px;">B:</td>
                          <td class="hotkey ">B</td>
                          <td class="hotkey ">N</td>
                        </tr>
                        <tr data-bind="visible: linuxCNCServer.AxesNumbers().includes(5)">
                          <td style="width: 25px;">C:</td>
                          <td class="hotkey ">C</td>
                          <td class="hotkey ">V</td>
                        </tr>
                      </table>
                      </br>
                      <div class="bold underline">Slow Jog</div>
                      <div><span class="hotkey"> Shift </span> + Axis Key</div>
                      </br>
                      <div class="bold underline">Incremental Jog</div>
                      <div><span class="hotkey" style="display: inline-block;"> Alt </span> + Axis Key</div>
                      </br>
                      <div class="bold underline">As selected in Jog panel</div>
                      <div><span class="hotkey" style="display: inline-block;"> + </span> or <span class="hotkey" style="display: inline-block;"> - </span> Key</div>
                    </div>
                  </div>
                </div>

                </div>

              </div>
            </div>


            <!--************************ OFFSET SETTINGS ************************-->
            <div class="tab-pane" id="ServerSettings">

                <legend>{{nls.ServerTabLegend}}</legend>

                <form class="form-horizontal">

                    <div class="control-group">
                        <label class="control-label" for="launchServerConfigBtn">{{nls.ServerConfigLabel}}</label>
                        <div class="controls">
                            <button class="btn" id="launchServerConfigBtn" data-bind="click: launchServerConfig" >{{nls.Launch}}</button>
                        </div>
                    </div>

                </form>

            </div>

            <!--************* STATUS SETTINGS **************-->
            <div class="tab-pane" id="StatusSettings">
              <legend>{{nls.StatusLegend}}</legend>
              <h4>{{nls.SystemDate}}</h4>
              <div>
                <p data-bind="text: linuxCNCServer.vars.system_status.data() ? new Date(linuxCNCServer.vars.system_status.data().date) : ''"></p>
                <button type="button" class="btn" data-bind="click: linuxCNCServer.setCurrentTime">{{nls.setCurrentTime}}</button>
              </div>
              <h4>{{nls.IPAddresses}}</h4>
              <div data-bind="foreach: addresses"><p data-bind="text: $data"></p></div>

              <h4><abbr data-bind="attr: { title: swapInfo }" style="text-decoration: none">Swap File</abbr></h4>
              <div data-bind="style: { display: diskOther() == 100 ? 'none' : '' } ">
                <div data-bind="text: swapStatusText, attr: { title: swapTooltip}" data-toggle="tooltip"></div>
                </br>
                <div>
                  <span data-bind="style: { display: swapExists() && !swapEnabled() ? '' : 'none' } ">
                    <button id="deleteSwap" type="button" class="btn btn-danger" data-toggle="modal" data-bind="click: swapCommand, disable: processingSwapCmd">{{nls.DeleteSwap}}</button>
                  </span>
                  <span data-bind="style: { display: swapExists() ? 'none' : '' }, disable: diskAvailable() > 263000 ">
                    <button id="createSwap" type="button" class="btn" data-toggle="modal" data-bind="click: swapCommand, disable: processingSwapCmd">{{nls.CreateSwap}}</button>
                  </span>
                  <span data-bind="style: { display: swapExists() && !swapEnabled() ? '' : 'none' } ">
                    <button id="enableSwap" type="button" class="btn" data-toggle="modal" data-bind="click: swapCommand, disable: processingSwapCmd">{{nls.EnableSwap}}</button>
                  </span>
                  <span data-bind="style: { display: swapExists() && swapEnabled() ? '' : 'none' } ">
                    <button id="disableSwap" type="button" class="btn btn-danger" data-toggle="modal" data-bind="click: swapCommand, disable: processingSwapCmd">{{nls.DisableSwap}}</button>
                  </span>
                  <i class="icon icon-spinner icon-spin" data-bind="visible: processingSwapCmd"></i>
                </div>
              </div>
            </br>
              <h4>{{nls.DiskUsage}}</h4>
              <div>
                <div class="disk_usage_container">
                  <div data-bind="style: { width: Math.floor(diskOther()/diskTotal()*100) + '%' }, attr: { title: diskOther == 100 ? 'Loading...' : (diskOther()/diskTotal()*100).toFixed(2) + '% - System Files' }, text: diskOther() == 100 ? 'Loading...' : (diskOther()/diskTotal()*100).toFixed(2) + '% - System Files'" style="border-color: gray; background-color: #dddddd;" class="disk_usage_bar"></div>
                  <div data-bind="style: { width: Math.floor(diskLogs()/diskTotal()*100) + '%' }, attr: { title: (diskLogs()/diskTotal()*100).toFixed(2) + '% - Logs' }, text: (diskLogs()/diskTotal()*100).toFixed(2) + '% - Logs'" style="border-color: orange; background-color: #f4ce42;" class="disk_usage_bar"></div>
                  <div data-bind="style: { width: Math.floor(diskNCFiles()/diskTotal()*100) + '%' }, attr: { title: (diskNCFiles()/diskTotal()*100).toFixed(2) + '% - GCode' }, text: (diskNCFiles()/diskTotal()*100).toFixed(2) + '% - GCode'" style="border-color: blue; background-color: rgb(50, 160, 230);" class="disk_usage_bar"></div>
                </div>
                <br/>
                <button type="button" class="btn btn-danger" data-toggle="modal" data-target="#clearLogsModal">{{nls.ClearLogs}}</button>
                <button type="button" class="btn btn-danger" data-toggle="modal" data-target="#clearNCFilesModal">{{nls.ClearGCode}}</button>
              </div>


            </div>

            <!--************* VERSION SETTINGS **************-->
            <div class="tab-pane" id="VersionSettings">

                <legend>{{nls.VersionLegend}}</legend>

                <form class="form-horizontal">
                    <div class="control-group">
                        <label class="control-label" for="version">{{nls.VersionLabel}}</label>
                        <div class="controls">
                            <select data-bind="options: linuxCNCServer.filteredVersions, value: getVersion" class="" id="version" multiple="false">
                            </select>
                        </div>
                        <div class="controls">
                            <span data-bind='style: { display: linuxCNCServer.CheckingForUpdates() ? "inline-block" : "none" }'><i class="icon icon-spinner icon-spin"></i></span>
                            <button class="btn" data-bind="disable: linuxCNCServer.CheckingForUpdates, click: function() { linuxCNCServer.check_for_updates() }">{{nls.CheckForUpdates}}</button>
                            <button id="saving_version_button" class="btn" data-bind="disable: linuxCNCServer.SettingVersion, click: function() { saveVersion() }">{{nls.Save}}</button> <span id="saving_version"></span>
                            <span data-bind='style: { display: linuxCNCServer.SettingVersion() ? "inline-block" : "none" }'><i class="icon icon-spinner icon-spin"></i></span>
                        </div>
		        <div data-bind='style: { display: linuxCNCServer.vars.usb_software_files.data().length > 0 ? "block" : "none" }'>
			  <div class="controls">
			    <h5>Software Files Detected on USB</h5>
			    <select data-bind="options: linuxCNCServer.strippedSoftwareNames(), optionsText: 'label', optionsValue: 'value'" class="" id="usb_software_file" multiple="false">
			    </select>
			  </div>
			  <div class="controls">
			    <span data-bind='style: { display: linuxCNCServer.usbCheckingFile() ? "inline-block" : "none" }'><i class="icon icon-spinner icon-spin"></i></span>
			    <button class="btn" data-bind="disable: linuxCNCServer.usbCheckingFile, click: function() { linuxCNCServer.check_usb_file_for_updates(document.getElementById('usb_software_file').value, requireValidSignature()) }">{{nls.CheckFileForUpdates}}</button>
			  </div>
			  <div class="controls"><span style="color: red" data-bind="text: linuxCNCServer.usbUpdateError"></span></div>
			  <div class="controls"><span style="color: rgb(90, 156, 59)" data-bind="text: linuxCNCServer.usbUpdateSuccess"></span></div>
			  <div class="controls">
			    <h6 data-bind="click: function() { advancedSoftwareUpdatePaneOpen(!advancedSoftwareUpdatePaneOpen()); }">Advanced<span data-bind="text: advancedSoftwareUpdatePaneOpen() ? '' : ' >>'"></span></h6>
			    
			  </div>
			  <div class="controls" data-bind="style: { display: advancedSoftwareUpdatePaneOpen() ? 'block' : 'none' }">
			  <span title="When ON, software files found on the USB must be properly signed with a valid Pocket NC signature, which ensures the file was created by Pocket NC and was not tampered with. When OFF, files signed by 3rd parties or expired Pocket NC signatures are allowed, which may pose a security risk.">Require valid Pocket NC signature</span>
			  <span id="require_valid_signature_usb" class="switch" data-on="success" data-off="primary" data-bind="event: { 'switch-change': toggleRequireSignature }">
			  <input id="require_valid_signature_usb_cb" type="checkbox" checked/></span>
			  </div>
		        </div>
                    </div>

                    <div class="control-group">
                        <label class="control-label">{{nls.HardwareVersionLabel}}</label>
                        <div style="padding-top: 5px" class="controls">
                            <span data-bind="text: getDetectedHardwareString()"/>
                            <br/>
                            <br/>

                            <button class="btn" data-bind="visible: toggleV1ButtonVisible, text: toggleV1ButtonText, click: linuxCNCServer.toggleV1V2RevP"></button>
                        </div>
                    </div>

                </form>

            </div>


        </div>

    </div>

</div>

<div class="modal fade" id="clearLogsModal" tabindex="-1" role="dialog" aria-labelledby="clearLogsModalLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="clearLogsModalLabel">{{nls.AreYouSureLogsShort}}
        <button type="button" class="close" data-dismiss="modal" aria-label="Cancel">
          <span aria-hidden="true">&times;</span>
        </button>
        </h5>
      </div>
      <div class="modal-body">
       {{nls.AreYouSureLogs}}
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
        <button type="button" class="btn btn-danger" data-dismiss="modal" data-bind="click: linuxCNCServer.clearLogs">{{nls.ClearLogs}}</button>
      </div>
    </div>
  </div>
</div>
<div class="modal fade" id="clearNCFilesModal" tabindex="-1" role="dialog" aria-labelledby="clearNCFilesModalLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="clearNCFilesModalLabel">{{nls.AreYouSureNCFilesShort}}
        <button type="button" class="close" data-dismiss="modal" aria-label="Cancel">
          <span aria-hidden="true">&times;</span>
        </button>
        </h5>
      </div>
      <div class="modal-body">
       {{nls.AreYouSureNCFiles}}
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
        <button type="button" class="btn btn-danger" data-dismiss="modal" data-bind="click: linuxCNCServer.clearNCFiles">{{nls.ClearGCode}}</button>
      </div>
    </div>
  </div>
</div>
